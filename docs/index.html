<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@nodelibraries/enhanced-abort-controller</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app">
      <!-- Top Navigation -->
      <header class="header">
        <div class="header-content">
          <div class="header-left">
            <a href="/" class="logo">@nodelibraries/enhanced-abort-controller</a>
          </div>
          <nav class="header-nav">
            <a href="https://github.com/nodelibraries/enhanced-abort-controller" target="_blank">GitHub</a>
            <a href="https://www.npmjs.com/package/@nodelibraries/enhanced-abort-controller" target="_blank">npm</a>
          </nav>
        </div>
      </header>

      <div class="layout">
        <!-- Sidebar -->
        <aside class="sidebar">
          <nav class="sidebar-nav">
            <div class="nav-group">
              <a href="#home" class="nav-item active">Home</a>
            </div>
            <div class="nav-group">
              <div class="nav-group-title">Guide</div>
              <a href="#quick-start" class="nav-item">Quick Start</a>
            </div>
            <div class="nav-group">
              <div class="nav-group-title">API</div>
              <a href="#api" class="nav-item">API Reference</a>
            </div>
            <div class="nav-group">
              <div class="nav-group-title">Examples</div>
              <a href="#examples" class="nav-item">Examples</a>
            </div>
          </nav>
        </aside>

        <!-- Main Content -->
        <main class="main">
          <!-- Hero Section -->
          <section id="home" class="hero">
            <h1 class="hero-title">@nodelibraries/enhanced-abort-controller</h1>
            <p class="hero-subtitle">
              Enhanced AbortController with Node.js-style patterns for modern TypeScript applications. Clean, fully type-safe with zero external libraries.
            </p>
            <div class="hero-actions">
              <a href="#quick-start" class="btn btn-primary">Get Started</a>
              <a href="https://github.com/nodelibraries/enhanced-abort-controller" class="btn btn-secondary" target="_blank">View on GitHub</a>
            </div>
          </section>

          <!-- Features -->
          <section class="features">
            <div class="feature-grid">
              <div class="feature-item">
                <div class="feature-icon">üéØ</div>
                <h3>Type-Safe</h3>
                <p>Full TypeScript support with type inference and compile-time safety</p>
              </div>
              <div class="feature-item">
                <div class="feature-icon">‚è±Ô∏è</div>
                <h3>Timeout Support</h3>
                <p>Automatic timeout-based cancellation with TimeSpan support</p>
              </div>
              <div class="feature-item">
                <div class="feature-icon">üîó</div>
                <h3>Linked Controllers</h3>
                <p>Create controllers that abort when any linked signal aborts</p>
              </div>
              <div class="feature-item">
                <div class="feature-icon">üì¶</div>
                <h3>Lightweight</h3>
                <p>Zero dependencies - pure TypeScript implementation</p>
              </div>
              <div class="feature-item">
                <div class="feature-icon">üîÑ</div>
                <h3>Promise Support</h3>
                <p>Promise-based waiting with whenAborted for async workflows</p>
              </div>
              <div class="feature-item">
                <div class="feature-icon">üßπ</div>
                <h3>Resource Cleanup</h3>
                <p>Automatic resource cleanup with registration callbacks</p>
              </div>
              <div class="feature-item">
                <div class="feature-icon">‚ö°</div>
                <h3>Disposal Pattern</h3>
                <p>Proper disposal pattern for resource management</p>
              </div>
              <div class="feature-item">
                <div class="feature-icon">üõ°Ô∏è</div>
                <h3>Error Handling</h3>
                <p>Custom AbortError with proper error inheritance</p>
              </div>
            </div>
          </section>

          <!-- Installation -->
          <section class="section">
            <h2>Installation</h2>
            <div class="code-group">
              <div class="code-block">
                <div class="code-header">
                  <span class="code-lang">bash</span>
                </div>
                <pre><code>npm install @nodelibraries/enhanced-abort-controller</code></pre>
              </div>
            </div>
          </section>

          <!-- Quick Start -->
          <section id="quick-start" class="section">
            <h2>Quick Start</h2>

            <h3>Basic Usage</h3>
            <div class="code-group">
              <div class="code-block">
                <div class="code-header">
                  <span class="code-lang">typescript</span>
                </div>
                <pre><code>import { EnhancedAbortController } from '@nodelibraries/enhanced-abort-controller';

const controller = new EnhancedAbortController();
controller.abortAfter(5000); // Abort after 5 seconds

// Use with fetch
fetch('https://api.example.com/data', {
  signal: controller.signal.signal
}).catch(err => {
  if (err.name === 'AbortError') {
    console.log('Request was cancelled');
  }
});</code></pre>
              </div>
            </div>

            <h3>Linked Controllers</h3>
            <div class="code-group">
              <div class="code-block">
                <div class="code-header">
                  <span class="code-lang">typescript</span>
                </div>
                <pre><code>import { EnhancedAbortController } from '@nodelibraries/enhanced-abort-controller';

const userController = new EnhancedAbortController();
const timeoutController = EnhancedAbortController.timeout(10000);

// Abort if user cancels OR timeout occurs
const linked = EnhancedAbortController.linkSignals(
  userController.signal,
  timeoutController.signal
);

fetch('https://api.example.com/data', {
  signal: linked.signal.signal
});</code></pre>
              </div>
            </div>

            <h3>Async Workflow with Cleanup</h3>
            <div class="code-group">
              <div class="code-block">
                <div class="code-header">
                  <span class="code-lang">typescript</span>
                </div>
                <pre><code>import {
  EnhancedAbortController,
  AbortError,
  EnhancedAbortSignal
} from '@nodelibraries/enhanced-abort-controller';

async function processData(signal: EnhancedAbortSignal) {
  const resources: string[] = [];
  
  try {
    // Register cleanup
    signal.register(() => {
      console.log('Cleaning up resources...');
      resources.length = 0;
    });
    
    // Process data
    for (let i = 0; i < 100; i++) {
      signal.throwIfAborted();
      resources.push(`Resource ${i}`);
      await processItem(i);
    }
  } catch (error) {
    if (error instanceof AbortError) {
      console.log('Processing was cancelled');
    }
    throw error;
  }
}</code></pre>
              </div>
            </div>
          </section>

          <!-- API Reference -->
          <section id="api" class="section">
            <h2>API Reference</h2>

            <div class="api-section">
              <h3>EnhancedAbortController</h3>
              <p>Enhanced abort controller with timeout and disposal support</p>
              <ul>
                <li><code>abort(reason?: string)</code> - Immediately abort with optional reason</li>
                <li><code>abortAfter(ms: number)</code> - Abort after specified milliseconds</li>
                <li><code>abortAfterTimeSpan(timeSpan: TimeSpan)</code> - Abort using TimeSpan</li>
                <li><code>dispose()</code> - Dispose resources and abort</li>
                <li><code>static timeout(ms: number)</code> - Create timeout controller</li>
                <li><code>static linkSignals(...signals)</code> - Create linked controller</li>
              </ul>
            </div>

            <div class="api-section">
              <h3>EnhancedAbortSignal</h3>
              <p>Enhanced abort signal with registration and promise support</p>
              <ul>
                <li><code>register(callback)</code> - Register abort callback</li>
                <li><code>throwIfAborted(message?)</code> - Throw if aborted</li>
                <li><code>whenAborted</code> - Promise that resolves when aborted</li>
                <li><code>static timeout(ms: number)</code> - Create timeout signal</li>
                <li><code>static any(signals)</code> - Create combined signal</li>
              </ul>
            </div>

            <div class="api-section">
              <h3>TimeSpan</h3>
              <p>Time interval representation for precise time management</p>
              <ul>
                <li><code>static fromMilliseconds(ms)</code> - Create from milliseconds</li>
                <li><code>static fromSeconds(seconds)</code> - Create from seconds</li>
                <li><code>static fromMinutes(minutes)</code> - Create from minutes</li>
                <li><code>static fromHours(hours)</code> - Create from hours</li>
                <li><code>static fromDays(days)</code> - Create from days</li>
              </ul>
            </div>

            <div class="api-section">
              <h3>AbortError</h3>
              <p>Error thrown when operations are aborted</p>
            </div>

            <div class="api-section">
              <h3>AbortRegistration</h3>
              <p>Registration for abort signal callbacks</p>
              <ul>
                <li><code>unregister()</code> - Unregister the callback</li>
                <li><code>dispose()</code> - Dispose the registration</li>
              </ul>
            </div>
          </section>

          <!-- Examples -->
          <section id="examples" class="section">
            <h2>Examples</h2>
            <p>
              For more examples, check out the
              <a href="https://github.com/nodelibraries/enhanced-abort-controller/tree/main/examples" target="_blank">examples directory</a>
              in the repository.
            </p>
          </section>

          <!-- Footer -->
          <footer class="footer">
            <p>
              Released under the MIT License. If you find this project helpful, consider buying me a coffee ‚òï
            </p>
            <p>Copyright ¬© 2025 nodelibraries | Created by ylcnfrht</p>
          </footer>
        </main>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
